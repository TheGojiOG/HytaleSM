if command -v systemctl >/dev/null 2>&1; then UNIT=''; if systemctl list-unit-files --type=service | grep -q '^prometheus-node-exporter.service'; then UNIT='prometheus-node-exporter.service'; fi; if [ -z "$UNIT" ] && systemctl list-unit-files --type=service | grep -q '^node_exporter.service'; then UNIT='node_exporter.service'; fi; if [ -n "$UNIT" ]; then systemctl is-active --quiet "$UNIT"; else pgrep -x node_exporter >/dev/null 2>&1 || pgrep -x prometheus-node-exporter >/dev/null 2>&1; fi; elif pgrep -x node_exporter >/dev/null 2>&1 || pgrep -x prometheus-node-exporter >/dev/null 2>&1; then true; else false; fi; if [ $? -eq 0 ]; then echo yes; else echo no; fi
